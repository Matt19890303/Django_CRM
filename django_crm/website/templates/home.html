{% extends 'base.html' %}

{% block content %}

  <div class="container d-flex flex-column align-items-center">
    <h1>Welcome, {{ request.user.username }}!</h1>
    {% if request.user.is_authenticated %}
      <!-- Table with the record content -->
      <table class="table table-dark table-hover table-bordered">
        <!-- Colomns -->
        <thead class="">
          <tr>
            <th scope="col">ID</th>
            <th scope="col">Full Name</th>
            <th scope="col">Email</th>
            <th scope="col">Phone</th>
            <th scope="col">Address</th>
            <th scope="col">City</th>
            <th scope="col">State</th>
            <th scope="col">Zipcode</th>
            <th scope="col">Created</th>
          </tr>
        </thead>
        
        <!-- Table content -->
          <!-- Matches the columns -->
        <tbody>

        {% if records %}
            {% for record in records %}
            <tr>
                <td><a href="{% url 'record' record.id %}">{{record.id}}</a></td>
                <td><a href="{% url 'record' record.id %}">{{record.first_name}} {{record.last_name}}</a></td>
                <td>{{record.email}}</td>
                <td>{{record.phone}}</td>
                <td>{{record.address}}</td>
                <td>{{record.city}}</td>
                <td>{{record.state}}</td>
                <td>{{record.zipcode}}</td>
                <td>{{record.created_at}}</td>
            </tr>
            {% endfor %}
        {% endif %}

        </tbody>
      </table>
    {% endif %}
  </div>

{% endblock %}